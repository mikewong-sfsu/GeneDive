/**
 * @class   ResetPasswordTest
 * @brief   Exercises the reset password feature
 * @details
 * @authors Mike Wong mikewong@sfsu.edu, Nayana Laxmeshwar nlaxmeshwar@mail.sfsu.edu
 * @ingroup tests
*/

const Test    = require( '../tests/Test' );

class ForgotPassword extends Test {
	get name() { return "Forgot Password"; }

	execute(){
		return new Promise( async( resolve, reject ) => {
			try {
				await this.goto.indexPage();
				await this.click( '.forgot-password' );
				await this.click( '#email' );
				await this.type( 'genediveuser@gmail.com' );
				await this.click( '#reset-password' );
				await this.page.waitForSelector( '.alert-success' );

				resolve( this.result( true, "Password reset link sent" ));
			} catch( e ) {
				reject( e )
			}
		});
	}
}

module.exports = ForgotPassword;
